{% load staticfiles %}
<!DOCTYPE html>
<html>
    <head>
        <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" />
        <meta charset="utf-8">
        <link rel="stylesheet" href="{% static 'css/semantic.css' %}" media="screen" title="no title" charset="utf-8">
        <link rel="stylesheet" href="{% static 'css/myinfo.css' %} "media="screen" title="no title">
        <link rel="stylesheet" href="{% static 'css/animate.css' %}" />
        <link href="https://fonts.googleapis.com/css?family=Oswald|Raleway" rel="stylesheet">

        <script src="{% static 'js/vue1.js' %}"></script>
        <script src="{% static 'js/reqwest.js' %}"></script>
        <script src="{% static 'js/js.cookie.js' %}"></script>


        <style type="text/css">

            #menu {
                width: 100px;
            }

            [v-cloak] {
            display: none;
            }

            .ui.padded.modal.segment.active.siXin {
                position: absolute;
                transform: translate(0,-50%);
                top: 35%;
            }
            .ui.borderless.container.siXin.none {
                position: absolute;
                left: 50%;
                top:50%;
                transform: translate(-50%,-50%);
            }
            .comment {
                position: absolute;
            }
            .ui.padded.modal.segment.active.del {
                    position: absolute;
                    width:300px!important;
                    min-height: 100px;
                    left:110%;
                    top: 40%;
                    transform: translate(0, -50%);
            }
            .anniu {
                position: relative;
                left: 18%;
                margin-top: 10px;
        }

            #fade {
                z-index: 2;
                width: 300px;
                position: absolute;
                /*transform: translate(-50%,-50%);*/
                top: 10%;
                left: 100%;
            }

            .five.wide.column {
                    background: url('/static/images/red_regi.jpg');
                    background-size: cover;
                    background-position: 60% 0%;
                }

            .ui.grid.divided.segment.container{
                min-height: 400px;
                width:600px !important;
                border:rgba(255, 0, 0, 0);
                position: absolute;
                left: 50%;
                top:45%;
                transform: translate(-50%,-50%);
            }

            .ui.butt.segment {
                margin-top: 100px;
                height:800px!important;
            }

            .unscrollable{
                    height:100%;
                    overflow:hidden;
                }

            .ui.active.modal.tiShi {
                width: 300px;
                position: absolute;
                transform: translate(-50%,-50%);
                top: 80%;
                left: 83%;
            }

           .ui.padded.modal.active {
               min-height: 388px;
               width:600px !important;
               border:rgba(255, 0, 0, 0);
               position: absolute;
               left: 61%;
               top:5%;
                }


            form {
                margin-top: 60px;
            }
            h1,h3,h4{
                font-family: 'Play', sans-serif !important;
            }
        </style>
    </head>
    <body v-cloak id="app"  class="dimmable {{canScroll}}">
        <div class="ui inverted top fixed red menu borderless menu">
        <div class="header item">

            <a href="{% url 'index' %}">
                <div class="ui image">
                    <img  src="/static/images/tenlogo.png" style="height:30px;width=30px; object-fit: cover;">
                </div>
            </a>
                    {% verbatim %}
            <title v-cloak>{{userinfo.nickname}}  -10MINs</title>

            
        </div>



        <div class="right menu">
	    <div style="right:15%" class="item">
                <div class="ui inverted icon input">
                  <input @keyup.enter="searchbutton()" v-model="searchword" type="text" placeholder="Search...">
                  <i v-on:click="searchbutton" class="circular search link icon"></i>
                </div>
            </div>
            <div class="item">
                <h5 class="ui inverted header">

                        <a  @mouseover="infoShwich1" @mouseout="infoShwich2" v-if="userinfo.avatar" class="ui mini circular image">
                            <img src="{{userinfo.avatar}}"/>
                        </a>
                        <div v-else class="ui mini circular image">
                            <img src="\static\images\default.png" alt="" />
                        </div>
                    <span>{{ userinfo.nickname }}</span>
                </h5>
            </div>


                <div  class="item">
                    <a v-show="modal.lg_show" v-on:click="signUp" class="ui inverted circular button">Signup/Login</a>
                    <a v-show="modal.lt_show" v-on:click="logOut" class="ui inverted circular button">Logout</a>
                </div>
        </div>
    </div>

    <div @click="modal.siXinShow=!modal.siXinShow" v-show="modal.siXinShow" class="ui dimmer animated  active"></div>
    <div v-show="modal.siXinShow"  class="ui padded modal segment active siXin">
        <i v-on:click="modal.siXinShow=!modal.siXinShow" class="icon tiny close" ></i>
        <div id="fade" v-show="modal.siXinTiShi" class="ui active modal siXinTiShi animated {{fade}} ">
            <h4 class="ui center aligned header">回复成功</h4>
        </div>
        <h3 class="ui horizontal  divider header" style="">我的信息</h3>

        <div v-show="!userinfo.myGetSixin.length" class="ui center aligned borderless container siXin none"
        style="border:none" >
            <span><i style="color:#DCDCDC" class="alarm huge outline icon"></i></span>
        </br></br></br>
            <div style="color:#DCDCDC">还没有消息</div>
        </div>

        <div v-if="userinfo.myGetSixin.length" class="ui container siXin" >
            <div  class="ui segment comments" style="border:none;OVERFLOW-Y: scroll;height:300px">

                    <div  v-for="siXin in siXinLst" v-show="!siXin.siXinApearOrHide" class="comment">
                        <div v-if="siXin.emiter.avatar" class="avatar">
                            <img src="{{siXin.emiter.avatar}}"  alt="" />
                        </div>
                        <div v-else class="avatar">
                            <img src="\static\images\default.png"  alt="" />
                        </div>
                        <div class="content">
                                <a href="javascript:void(0)" class="author">{{ siXin.emiter.nickname }}</a>
                            <div class="metadata">
                                <div class="date">{{ siXin.createtime }}</div>
                            </div>
                            <p class="text" style="font-family: 'Raleway', sans-serif;">
                                {{siXin.content}}
                            </p>

                            <a v-on:click="siXin.inputApearOride=true,siXin.huiFuBt=true,siXin.quXiaoBt=true" v-show="!siXin.huiFuBt" href="javascript:void(0)">回复</a>
                            <a v-on:click="siXin.inputApearOride=false,siXin.huiFuBt=false,siXin.quXiaoBt=false" v-show="siXin.quXiaoBt"  href="javascript:void(0)">取消</a>
                            <a v-on:click="siXin.qurenShow=true"  href="javascript:void(0)">删除</a>
                        </div>

                        <div class="ui divider"></div>
                        <div v-show="siXin.inputApearOride" class="ui action fluid input">
                            <input style="width:500px;height:35px;" @keydown.enter="huiFuSiXin(siXin.getter.nickname,siXin.huiFu,siXin.content,siXin.emiter.id),siXin.huiFu='',siXin.inputApearOride=false,siXin.huiFuBt=false,siXin.quXiaoBt=false"
                              v-model="siXin.huiFu" v-on:click="siXin.showBt=true" type="text"  placeholder="你的回复">
                             <button v-on:click="huiFuSiXin(siXin.getter.nickname,siXin.huiFu,siXin.content,siXin.emiter.id,siXin.content),siXin.huiFu='',siXin.inputApearOride=false,siXin.huiFuBt=false,siXin.quXiaoBt=false"  style="margin-left:20px" class="ui inverted  red  {{siXin.huiFu==''?'disabled':''}} button">
                             <i style="">Click</i>
                         </button>
                        </div>

                        <div v-show="siXin.qurenShow" class="ui padded modal segment active del">
                            <h4 class="ui center aligned header">确认删除吗？</h4>
                            <div class="anniu">
                                <button @click="deleteSiXin(siXin.id),siXin.siXinApearOrHide=!siXin.siXinApearOrHide,siXin.qurenShow=false" class="ui secondary button">
                                  Okay
                                </button>
                                <button v-on:click="siXin.qurenShow=false" class="ui button">
                                  Cancel
                                </button>
                            </div>
                        </div>

                    </div>
             </div>
        </div>
    </div>

    <div v-show="modal.tiShi" class="ui active modal tiShi animated {{fade}}">
        <h4 class="ui center aligned header">修改成功</h4>
    </div>

        <div class="ui raised container segments" style="margin-bottom:70px;">
            <div class="ui head basic segment" style="height:200px;" >
                <div  class="ui circular image cover" >
                    <img v-if="userinfo.avatar"  src="{{userinfo.avatar}}"  alt="" />
                    <img v-else src="\static\images\default.png" alt="" />
                </div>
            </div>

            <div class="ui bottom inverted nine item attached menu">
                <label  v-on:click="choicecategory('info',1)"  class="item {{ activeOrnot(1) }}">
                    <a href="javascript:;">个人资料</a>

                </label>
                <label  v-on:click="choicecategory('like',2)"   class="item {{ activeOrnot(2) }}">
                    <a href="javascript:;" class="">我的收藏</a>
                </label>
                <label  v-on:click="choicecategory('guanZhu',3)"   class="item {{ activeOrnot(3) }}">
                    <a href="javascript:;" class="">我的关注</a>
                </label>
            </div>

            <div class="ui butt segment">
                <div v-show="modal.info_sh" class="ui basic very padded segment container info"  >
                    <form class="ui form" enctype="multipart/form-data" @submit.prevent="affSubmit" style="margin-top:10px">
                        <div class="field" style="white-space:nowrap">
                            <label >昵称：</label>
                            <input autocomplete="on" v-model="nickname" name="nickname" @blur="checkNickname" @click="nicknameChange" type="text" autocomplete="on"   placeholder="请输入昵称" />
                            <i style="margin-left:10px;margin-top:11px" style="color:green;" v-show="modal.nicknameCheck" class="check green circle icon"></i>
                            <i style="color:red;margin-left:10px;margin-top:11px" v-show="modal.inNicknameCheck" class="remove red circle icon">这个昵称太抢手了，换一个吧</i>
                        </div>
                        <!-- <div class="field" style="white-space:nowrap">
                            <label >地址：</label>
                            <input autocomplete="on" v-model="address" name="address"  type="text"    placeholder="居住地址" />
                        </div> -->

                        <div class="field" style="white-space:nowrap">
                            <label >教育：</label>
                            <input autocomplete="on" v-model="edu" name="edu"  type="text"   placeholder="毕业学校" />
                        </div>

                        <div class="field" style="white-space:nowrap">
                            <label >工作：</label>
                            <input autocomplete="on" v-model="job" name="job"  type="text"    placeholder="工作" />

                        </div>

                        <div class="field" style="white-space:nowrap">
                            <label >自我介绍：</label>
                            <input autocomplete="on" v-model="motto" name="motto"  type="text"  placeholder="我想说的话" />
                        </div>
                        <div  class="ui field">
                            <label>性别：</label>
                            <select autocomplete="on" v-model="sex" name="sex"  class="ui selection">
                                <option value="">性别</option>
                                <option value="男">男</option>
                                <option value="女">女</option>
                                <option value="保密">保密</option>
                            </select>
                        </div>
                        <div class="field" style="white-space:nowrap">
                            <label>邮箱：</label>
                            <input autocomplete="on" @blur="checkEmai" @click="emailChange" name="email" v-model="email" @keydown.enter="submit" type="email" placeholder="请输入手机号码" />
                        <i style="color:green;margin-left:10px;margin-top:11px" v-show="modal.emailCheck" class="check green circle icon"></i>
                        <i style="color:red;margin-left:10px;margin-top:11px"  v-show="modal.inEmailCheck" class="remove red circle icon">邮箱格式错误</i>
                        </div>

                        <div class="field">
                            <label>修改头像：</label>
                              <input  v-model="avatar" type="file"  name="img"  >
                        </div>
                        <div class="field">
                            <label>密码(可选)：</label>
                            <input @keydown.enter="submit"  name="password"  type="password" placeholder="请输入密码" />
                        </div>
                        <input autofocus="on" class="ui inverted red right floated {{commenterror()}} button" type="submit" value="送出">
                        </form>
                </div>

                <div v-show="modal.like_sh" class="ui basic very padded segment container info" style="width:530px;">
                    <div  v-for="video in video_list">
                            <a v-on:click="vidDetail(video.id)" href="javascript:void(0)">
                                <img  class="ui top aligned tiny image" src="{{ video.cover }}" style="width:80px;height:55px;"></a>
                                <a v-on:click="vidDetail(video.id)" href="javascript:void(0)"><span>{{ video.title }}</span></a>

                        <div class="ui divider"></div>
                    </div>

                    <div class="ui pagination menu" style="margin-left:50%;transform:translate(-50%,0%);">

                       <a v-on:click="update_page(this_page-1)" class="{{ previous_disabled_status() }} item"><i class="icon {{ leftcaret_color() }} left caret"></i></a>
                       <a v-on:click="update_page(pagenumber+1)" v-for="pagenumber in pages" class="{{ pagenum_active_status(pagenumber+1) }} item"
                       style="{{ pagenum_color(pagenumber+1) }}">
                                                   {{ pagenumber+1 }}
                       </a>
                       <a v-on:click="update_page(this_page+1)" class="{{ next_disabled_status() }} item">
                           <i class="icon {{ rightcaret_color() }} right caret"></i></a>
                    </div>
                </div>

                <div v-show="modal.guanZhu_sh" class="ui basic very padded segment container info" style="width:530px;">
                    <div class="ui items" v-for="people in myGuanZhu_list">
                          <div class="item">
                            <a   class="ui tiny image">
                              <img src="{{people.avatar}}">
                            </a>
                            <div class="content">
                              <a v-on:click="peopleDetail(people.id)" class="header">{{people.nickname}}</a>
                              <div class="description">
                                  <p>{{people.motto}}</p>
                                <span >{{people.videoNumber}}文章</span>
                                <span>{{people.followerNumber}}关注者</span>
                                <br>
                                <button @click="attention(people.id),people.guanZhu=!people.guanZhu,people.followerNumber+=1"
                                 v-show="!people.guanZhu" style="margin-left:50px" class="ui inverted red right floated button" >关注</button>
                                <button @click="deAttention(people.id),people.guanZhu=!people.guanZhu,people.followerNumber-=1"
                                 style="margin-left:50px" v-show="people.guanZhu" class="ui inverted red right floated button" >取消关注</button>
                              </div>
                            </div>
                          </div>
                          <div class="ui divider"></div>
                    </div>

                    <div class="ui pagination menu" style="margin-left:50%;transform:translate(-50%,0%);">

                       <a v-on:click="gzUpdate_page(this_page-1)" class="{{ gzPrevious_disabled_status() }} item"><i class="icon {{ gzLeftcaret_color() }} left caret"></i></a>
                       <a v-on:click="gzUpdate_page(pagenumber+1)" v-for="pagenumber in gzPages" class="{{ gzPagenum_active_status(pagenumber+1) }} item"
                       style="{{ gzPagenum_color(pagenumber+1) }}">
                                                   {{ pagenumber+1 }}
                       </a>
                       <a v-on:click="gzUpdate_page(this_page+1)" class="{{ gzNext_disabled_status() }} item">
                           <i class="icon {{ gzRightcaret_color() }} right caret"></i></a>
                    </div>

                </div>

                </div>
            </div>

            <div @click="modal.dongTaiShow=!modal.dongTaiShow" v-show="modal.dongTaiShow" class="ui dimmer animated  active"></div>
            <div v-show="modal.dongTaiShow"  class="ui padded modal segment active siXin">
                <i v-on:click="modal.dongTaiShow=!modal.dongTaiShow" class="icon tiny close" ></i>

                <h3 class="ui horizontal  divider header" style="">关注者信息</h3>

                <div v-show="!dongTaiLst.length" class="ui center aligned borderless container siXin none" style="border:none" >
                    <span><i style="color:#DCDCDC" class="alarm huge outline icon"></i></span>
                </br></br></br>
                    <div style="color:#DCDCDC">还没有动态</div>
                </div>

                <div v-if="dongTaiLst.length" class="ui container siXin" >
                    <div  class="ui segment comments" style="border:none;OVERFLOW-Y: scroll;height:300px">

                        <div  class="ui feed">
                          <div v-for="article in dongTaiLst" class="event">
                            <div class="label">
                              <img src="{{article.owner.avatar}}">
                            </div>
                            <div class="content">
                              <div class="date">
                                {{article.createtime}}
                              </div>
                              <div class="summary">
                                 <a  @click="prePeopleDetail(article.owner.id)" >{{article.owner.nickname}}</a> write a article
                              </div>

                                  <a v-on:click="detailCard(article.id)" class="extra text">
                                    {{article.title}}
                                </a>

                            </div>
                          </div>
                      </div>
                     </div>
                </div>
            </div>

            <div @click="modal.zanShow=!modal.zanShow" v-show="modal.zanShow" class="ui dimmer animated fadeIn active"></div>
            <div v-show="modal.zanShow"  class="ui padded modal segment active siXin">
                <i v-on:click="modal.zanShow=!modal.zanShow" class="icon tiny close" ></i>

                <h3 class="ui horizontal  divider header" style="">动态</h3>

                <div v-if="!(zanLst.length||pingLunZanLst.length)" class="ui center aligned borderless container siXin none" style="border:none" >
                    <span><i style="color:#DCDCDC" class="alarm huge outline icon"></i></span>
                </br></br></br>
                    <div style="color:#DCDCDC">没有获得赞</div>
                </div>

                <div v-if="zanLst.length||pingLunZanLst.length" class="ui container siXin" >
                    <div  class="ui segment comments" style="border:none;OVERFLOW-Y: scroll;height:300px">

                        <div  class="ui feed">
                          <div v-for="zan in zanLst" class="event">
                            <div class="label">
                              <img src="{{zan.voter.avatar}}">
                            </div>
                            <div class="content">
                              <div class="date">
                                {{zan.createtime}}
                              </div>
                              <div class="summary">
                                 <a  @click="prePeopleDetail(zan.voter.id)">{{zan.voter.nickname}}</a>  赞了你的文章
                                 <a v-on:click="detailCard(zan.video.id)" class="extra text">{{zan.video.title}}</a>
                              </div>

                            </div>
                          </div>

                          <div class="ui horizontal divider">评论</div>
                          <div v-for="pingLunZan in pingLunZanLst" class="event">
                            <div class="label">
                              <img src="{{pingLunZan.voter.avatar}}">
                            </div>
                            <div class="content">
                              <div class="date">
                                {{pingLunZan.createtime}}
                              </div>
                              <div class="summary">
                                 <a  @click="prePeopleDetail(pingLunZan.voter.id)">{{pingLunZan.voter.nickname}}</a>  赞了你在
                                 <a v-on:click="detailCard(pingLunZan.comment.belong_to.id)" class="extra text">{{pingLunZan.comment.belong_to.title}}</a> 下的评论
                              </div>

                            </div>
                          </div>
                      </div>
                     </div>
                </div>
            </div>

            <div @click="modal.pingLunShow=!modal.pingLunShow" v-show="modal.pingLunShow" class="ui dimmer animated fadeIn active"></div>
            <div v-show="modal.pingLunShow"  class="ui padded modal segment active siXin">
                <i v-on:click="modal.pingLunShow=!modal.pingLunShow" class="icon tiny close" ></i>

                <h3 class="ui horizontal  divider header" style="">评论动态</h3>

                <div v-if="!pingLunLst.length" class="ui center aligned borderless container siXin none" style="border:none" >
                    <span><i style="color:#DCDCDC" class="alarm huge outline icon"></i></span>
                </br></br></br>
                    <div style="color:#DCDCDC">还没有动态</div>
                </div>

                <div v-if="pingLunLst.length" class="ui container siXin" >
                    <div  class="ui segment comments" style="border:none;OVERFLOW-Y: scroll;height:300px">

                        <div  class="ui feed">
                          <div v-for="pingLun in pingLunLst" class="event">
                            <div class="label">
                              <img src="{{pingLun.commenter.avatar}}">
                            </div>
                            <div class="content">
                              <div class="date">
                                {{pingLun.createtime}}
                              </div>
                              <div class="summary">
                                 <a  @click="prePeopleDetail(pingLun.commenter.id)">{{pingLun.commenter.nickname}}</a> 回复了你在
                                 <a v-on:click="detailCard(pingLun.belong_to.belong_to.id)" class="extra text">{{pingLun.belong_to.belong_to.title}}</a>
                                 下的评论
                              </div>
                            </div>
                          </div>

                          <div class="ui horizontal divider">文章</div>
                          <div v-for="articlePingLun in articlePingLunLst" class="event">
                            <div class="label">
                              <img src="{{articlePingLun.commenter.avatar}}">
                            </div>
                            <div class="content">
                              <div class="date">
                                {{articlePingLun.createtime}}
                              </div>
                              <div class="summary">
                                 <a  @click="prePeopleDetail(articlePingLun.commenter.id)">{{articlePingLun.commenter.nickname}}</a> 评论了你的文章
                                 <a v-on:click="detailCard(articlePingLun.belong_to.id)" class="extra text">{{articlePingLun.belong_to.title}}</a>
                              </div>
                            </div>
                          </div>
                      </div>
                     </div>
                </div>
            </div>

            <div @mouseover="infoShwich1" @mouseout="infoShwich2" id="menu" v-show="modal.info"
            style="left:89%;top:27%;transform: translate(-50%, -50%);width:150px;"
            class="ui popup bottom left transition  fixed menu  borderless vertical animated {{fadeIn}} menu">
              <a v-on:click="inFopage" class="item">
                修改资料
              </a>
              <a @click="write" class="item">
                写文章
              </a>
              <a @click="modal.dongTaiShow=!modal.dongTaiShow,userinfo.dongTaiNum=0,dongTaiNumQingLing(),dongTai()" class="item">
                关注者动态
                <div class="floating ui red label" v-if="userinfo.dongTaiNum">{{userinfo.dongTaiNum}}</div>
              </a>
              <a @click="modal.pingLunShow=!modal.pingLunShow,userinfo.pingLunNum=0,pingLunNumQingLing(),pingLun(),articlePingLun()" class="item">
                评论动态
                <div class="floating ui red label" v-if="userinfo.pingLunNum">{{userinfo.pingLunNum}}</div>
              </a>
              <a @click="modal.zanShow=!modal.zanShow,userinfo.zanNum=0,zanNumQingLing(),zan(),pingLunZan()" class="item">
                 谁赞了我
                <div class="floating ui red label" v-if="userinfo.zanNum">{{userinfo.zanNum}}</div>
              </a>
              <a @click="modal.siXinShow=!modal.siXinShow,userinfo.siXinNum=0,siXinNumQingLing()" class="item">
                私信
                <div class="floating ui red label" v-if="userinfo.siXinNum">{{userinfo.siXinNum}}</div>
              </a>
            </div>


            <div sytle="margin-top:80p;" class="ui vertical very padded red segment">
                <div class="ui grid">
                    <div class="four wide column">
                        <div class="ui image">
                            <img src="\static\images\ten_red_logo.png" alt="">
                        </div>
                    </div>

                    <div class="four wide column">
                        <div class="ui vertical  text menu">
                            <div class="item">
                                <h3 class="ui header">信息</h3>
                            </div>

                            <div class="item">
                                关于10MINs
                            </div>

                            <div class="item">
                                联系我们
                            </div>

                            <div class="item">
                                Blog
                            </div>
                        </div>
                    </div>

                    <div class="four wide column">
                        <div class="ui vertical  text menu">
                            <div class="item">
                                <h3 class="ui  header">社交网络</h3>
                            </div>

                            <div class="item">
                                新浪微博
                            </div>

                            <div class="item">
                                微信公众号
                            </div>

                            <!-- <div class="item">
                                Fax : 010-66666
                            </div> -->
                        </div>
                    </div>

                    <div class="four wide column">
                        <div class="ui vertical text menu">
                            <div class="item">
                                Designed by
                            </div>
                            <div class="item">
                                <h3 class="ui header logo" style="font-size: 30px;color: rgb(196, 196, 196);">萌面人</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        <div v-show="modal.dimmerShow" @click="unSignUp" class="ui dimmer animated fadeIn active" ></div>
            <div v-if="modal.regi_show" class="ui padded modal segment active" >
                <i v-on:click="unSignUp" class="icon tiny close" ></i>

                <div class="ui grid divided segment container">
                    <div class="five wide column">
                        <h4 class="ui inverted header">
                            <i class="angle left  icon"></i>
                        </h4>
                        <h1 class="ui inverted center aligned header" style="font-size: 40px;margin-top:55px">
                            <p class="sub header">
                                Welcome to
                            </p>
                            10MINs
                        </h1>

                    </div>


        <div class="eleven wide column">
            <h4 class="ui inverted right aligned header">
                <a href="#" v-on:click="modalSwitch_rigeser_login" style="color:#ff695e;">or Login</a>
            </h4>
            <form class="ui form" >

                <div class="field">
                    <label >手机号码：</label>
                    <div class="ui left icon input">
                        <input autocomplete="on" v-model="username" @blur="checkUsername" @click="userChange"  type="text" placeholder="手机号码">
                          <i class="user icon"></i>
                    </div>

                    <span   style="color:green;" v-show="modal.usernameCheck"><i class="check green circle icon"></i></span>
                    <span   style="color:red;"  v-show="modal.inUsernameCheck"><i class="remove red circle icon"></i>{{invalidUser}}</span>
                    <span  style="color:red;"  v-show="modal.endInUsernameCheck"><i class="remove red circle icon"></i>{{endInvalidUser}}</span>
                </div>

                <div class="field">
                    <label >密码：</label>
                    <div class="ui left icon input">
                        <input @blur="checkPassword" @click="passwordChange"  v-model="password" type="password"  placeholder="密码不少于6位">
                        <i class="lock icon"></i>
                    </div>

                    <span  v-show="modal.error_show1" class="ui inverted red " style="color:red;"><i class="remove red circle icon"></i>The password is invalid</span>
                    <span   style="color:green;" v-show="modal.error_show2"><i class="check green circle icon"></i></span>
                </div>
                <div  class="field">
                    <label >重复密码：</label>
                    <div class="ui left icon input">
                        <input @keydown.enter="affRegister" @blur="checkRePassword" @click="rePswChange" v-model="re_password" type="password"  placeholder="Repeat Password">
                        <i class="lock icon"></i>
                    </div>
                    <span v-show="modal.error_show" style="color:red;"><i class="remove red circle icon"></i>The two passwords are different</span>
                    <span  style="color:green;" v-show="modal.right_show"><i class="check green circle icon"></i></span>
                </div>
            </form>
            <div class="">
                <button  v-on:click="affRegister" class="ui inverted red circular right floated button"
                style="margin-top:30px">完成</button>
            </div>
        </div>
             </div>
        </div>



        <div v-if="modal.login_show"  class="ui padded modal segment active" >
            <i v-on:click="unSignUp" class="icon tiny close" ></i>
            <div class="ui grid divided segment container">
                <div class="five wide column">
                    <h4 class="ui inverted header">
                        <i class="angle left  icon"></i>
                    </h4>
                    <h1 class="ui inverted center aligned header" style="font-size: 40px;margin-top:55px">
                        <p class="sub header">
                            Welcome to
                        </p>
                        10MINs
                    </h1>
                </div>

                <div class="eleven wide column">
                    <h4 class="ui inverted right aligned header">
                        <a href="#" v-on:click="modalSwitch_rigeser_login" style="color:#ff695e;">or Regiser</a>
                    </h4>
                <form class="ui form" >
                    <div class="" v-show="modal.error_show">
                        <span class="red error field">invalid account</span>
                    </div>
                    <div class="field">
                        <label>用户名：</label>
                        <div class="ui left icon input">
                            <input autocomplete="on" v-model="username" type="text" placeholder="Username">
                            <i class="user icon"></i>
                        </div>
                    </div>
                    <div class="field">
                        <label>密码：</label>
                        <div class="ui left icon input">
                            <input  @keydown.enter="logIn" v-model="password" type="password"  placeholder="Password">
                            <i class="lock icon"></i>
                        </div>
                    </div>
                    <span v-show="modal.loginCheck" style="color:red;"><i class="remove red circle icon"></i>账号不存在或密码错误</span>

                </form>

        <div class="">
        <button @click="logIn"  class="ui inverted red circular right floated button" style="margin-top:30px">登陆</button>
        </div>
                    </div>
                </div>
            </div>



             <script>
                     vm = new Vue({
                        el:"#app",


                        data:{
                            // 悬浮框动画
                            fadeIn:"",
                            // 回复成功提示
                            fade:"",
                            //登陆注册用到的数据
                            invalidUser:"手机号码为11位数字",
                            endInvalidUser:"号码已注册",
                            username:"",
                            password:"",
                            re_password:"",
                            endCheckRe:1,

                            //搜索词语
                            searchword:"",

                            //定时器
                            timer:null,
                            //收藏分页相关数据
                            pages:"",
                            this_page:1,

                            //关注分页相关数据
                            gzPages:"",
                            gzThis_page:1,

                            //分类用的数据
                            choices:"info",
                            current:1,

                            //个人信息数据和文章列表
                            userinfo:"",
                            //修改资料用到的数据
                            address:"",
                            edu:"",
                            job:"",
                            motto:"",
                            nickname:"",
                            sex:"",
                            avatar:[],
                            email:"",
                            endNickCheckRe:1,
                            //保存后台返回的msg
                            msg:"",
                            pingLunZanLst:[],
                            //文章评论
                            articlePingLunLst:[],
                            //文章列表
                            video_list:[],
                            //我关注的人
                            myGuanZhu_list:[],
                            //评论回复
                            pingLunLst:[],
                            //赞动态列表
                            zanLst:[],
                            //动态
                            dongTaiLst:[],
                            //私信列表
                            siXinLst:[],

                            modal:{
                                //dimmer显示
                                dimmerShow:false,
                                //动态展示
                                dongTaiShow:false,
                                //回复动态展示
                                pingLunShow:false,
                                //赞动态展示
                                zanShow:false,
                                //回复提示
                                siXinTiShi:false,
                                // 私信
                                siXinShow:false,
                                //成功提示
                                tiShi:false,
                                //修改资料用的数据x4
                                emailCheck:false,
                                inEmailCheck:false,
                                inNicknameCheck:false,
                                nicknameCheck:false,

                                //注册登陆用的数据
                                show:false,
                                lg_show:true,
                                lt_show:false,

                                inUsernameCheck:false,
                                endInUsernameCheck:false,
                                usernameCheck:false,
                                loginCheck:false,

                                error_show:false,
                                right_show:false,
                                error_show1:false,
                                error_show2:false,

                                regi_show:false,
                                login_show:false,

                                //个人资料和收藏文章页和关注页
                                info_sh:true,
                                like_sh:false,
                                guanZhu_sh:false,

                                //显示或不显示悬浮框
                                info:false,
                            },
                        },

                    //     watch: {
                    //         guanZhuOrNot: function (newguanZhuOrNot) {
                    //             this.changGuanZhu();
                    // },
                    //     },


                methods:{

                    gzLeftcaret_color:function(){
                         if(this.gzThis_page > 1){
                           return "red"
                         }
                         else{
                           return ""
                         }
                       },

                       gzRightcaret_color:function(){
                         if(this.gzThis_page < this.pages){
                           return "red"
                         }
                         else{
                           return ""
                         }
                       },

                       gzPrevious_disabled_status:function(){
                         if(this.gzThis_page > 1){
                           return ""
                         }
                         else{
                           return "disabled"
                         }
                       },

                       gzNext_disabled_status:function(){
                         if(this.gzThis_page < this.gzPages){
                           return ""
                         }
                         else{
                           return "disabled"
                         }
                       },

                       gzPagenum_active_status:function(page){
                       if(this.gzThis_page == page){
                         return "active"
                       }
                       else{
                         return ""
                       }
                     },

                     gzPagenum_color:function(page){
                        if(this.gzThis_page == page){
                          return "background-color: red; color:white"
                        }
                        else{
                          return ""
                        }
                      },


                      gzUpdate_page:function(page){
                        var self = this;
                        if(page > this.gzPages){
                          page = this.gzPages;
                        };
                        if(page < 1){
                          page = 1;
                        }
                        self.gzThis_page = page;
                        reqwest({
                          url:'/api/myGuanZhu/?page='+page,
                          type:'json',
                          method:'get',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
			     for(i=0;i<resp.peopleList.length;i++) {
                                  resp.peopleList[i]['guanZhu']=true
                              }
                              console.log(resp)
                             self.myGuanZhu_list=resp.peopleList
                          }
                        })
                      },

                      //我关注的人
                      myGuanZhu:function() {
                           var self=this;
                           reqwest({
                               url:'/api/myGuanZhu/?page='+self.gzThis_page,
                               type:'json',
                               method:'get',
                               headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                               success:function(resp){
                                   for(i=0;i<resp.peopleList.length;i++) {
                                       resp.peopleList[i]['guanZhu']=true
                               
                                   }
                                   self.myGuanZhu_list=resp.peopleList;
                                  self.gzPages = resp.pages;
                               }
                           })
                      },

                    //   save_articlelst:function(){
                    //       var self=this;
                    //       reqwest({
                    //           url:'/api/save_articlelst/?page='+self.this_page,
                    //           type:'json',
                    //           method:'get',
                    //           headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                    //           success:function(resp){
                    //               console.log(resp)
                    //               self.video_list = resp.video_list;
                    //               self.pages = resp.pages;
                    //           }
                    //       })
                    //   },

                    //动态数目清零
                    zanNumQingLing:function() {
                        var id=4
                        reqwest({
                          url:'/api/changeInfo/'+id,
                          type:'json',
                          method:'put',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            console.log(resp.status);
                          }
                        })
                    },

                    //动态数目清零
                    pingLunNumQingLing:function() {
                        var id=3
                        reqwest({
                          url:'/api/changeInfo/'+id,
                          type:'json',
                          method:'put',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            console.log(resp.status);
                          }
                        })
                    },

                    //动态数目清零
                    dongTaiNumQingLing:function() {
                        var id=1
                        reqwest({
                          url:'/api/changeInfo/'+id,
                          type:'json',
                          method:'put',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            console.log(resp.status);
                          }
                        })
                    },

                    //加载评论动态信息
                           articlePingLun:function(){
                               var self=this;
                               reqwest({
                                   url:'/api/articlePingLun/',
                                   type:'json',
                                   method:'get',
                                   headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                   success:function(resp){
                                       self.articlePingLunLst = resp;
                                   }
                               })
                           },

                           //加载赞动态信息
                                  pingLunZan:function(){
                                      var self=this;
                                      reqwest({
                                          url:'/api/pingLunZan/',
                                          type:'json',
                                          method:'get',
                                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                          success:function(resp){
                                              self.pingLunZanLst = resp;
                                          }
                                      })
                                  },

                    //加载评论动态信息
                           pingLun:function(){
                               var self=this;
                               reqwest({
                                   url:'/api/pingLun/',
                                   type:'json',
                                   method:'get',
                                   headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                   success:function(resp){
                                       self.pingLunLst = resp;
                                   }
                               })
                           },

                           //加载赞动态信息
                                  zan:function(){
                                      var self=this;
                                      reqwest({
                                          url:'/api/zan/',
                                          type:'json',
                                          method:'get',
                                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                          success:function(resp){
                                              self.zanLst = resp;
                                          }
                                      })
                                  },

                    //加载动态信息
                           dongTai:function(){
                               var self=this;
                               reqwest({
                                   url:'/api/dongTai/',
                                   type:'json',
                                   method:'get',
                                   headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                   success:function(resp){
                                       self.dongTaiLst = resp;
                                   }
                               })
                           },


                    //取消关注
                        deAttention:function(id) {
                            reqwest({
                                url:'/api/deAttention/'+id,
                                type:'json',
                                method:'delete',
                                headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                success:function(resp){
                                    console.log(resp.status);
                                }
                            })
                        },

                        //关注
                                    attention:function(id) {
                                        reqwest({
                                            url:'/api/attention/'+id,
                                            type:'json',
                                            method:'post',
                                            headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                            success:function(resp){
                                                console.log(resp.status);
                                            }
                                        })
                                    },


                    //私信数目清零
                    siXinNumQingLing:function() {
                        var id=2
                        reqwest({
                          url:'/api/changeInfo/'+id,
                          type:'json',
                          method:'put',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            console.log(resp.status);
                          }
                        })
                    },
                     //删除私信
                    deleteSiXin:function(id) {
                        reqwest({
                          url:'/api/siXin/'+id,
                          type:'json',
                          method:'delete',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            console.log(resp.status);
                          }
                        })
                    },
                    //回复私信
                    huiFuSiXin:function(nickname,content,yuanContent,id) {
                        var self=this
                        reqwest({
                          url:'/api/siXin/'+id,
                          type:'json',
                          method:'post',
                          data:{content:nickname+" 回复 你的私信//"+yuanContent+"//"+content},
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            console.log(resp.status);
                            self.modal.siXinTiShi=true;
                            setTimeout(function(){
                                self.fade='fadeOut'
                            },2000)
                            self.timer=setTimeout(function(){
                                self.siXinTiShi=false;
                                self.fade=''
                            },4000)
                          }
                        })
                    },

                    //加载个人信息
                           readinfo:function(){
                               var self=this;
                               reqwest({
                                   url:'/api/theuser/',
                                   type:'json',
                                   method:'get',
                                   headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                   success:function(resp){
                                       for(var i=0;i<resp.siXin.length;i++) {
                                           resp.siXin[i]['huiFu']="";
                                           resp.siXin[i]['inputApearOride']=false;
                                           resp.siXin[i]['huiFuBt']=false;
                                           resp.siXin[i]['quXiaoBt']=false;
                                           resp.siXin[i]['siXinApearOrHide']=false;
                                           resp.siXin[i]['qurenShow']=false;
                                       }
                                       self.siXinLst=resp.siXin;
                                       self.userinfo = resp.info;

                                    //    self.modalSwitch_lg_lt();
                                   }
                               })
                           },


                           //   跳转到个人详情页
                           peopleDetail:function (id) {
                               Cookies.set('peopleId', id);
                               window.location.href="/geRenXingXi/";
                                   },


                    //修改个人资料相关的函数
                    affSubmit: function(event) {
                         if(this.modal.nicknameCheck==true&&this.modal.emailCheck==true){
                             this.submit(event);
                         }
                    },
                    //提交资料
                    submit: function(event) {
                            var id=3
                            Cookies.set('nickname',this.nickname,140);
                            Cookies.set('address',this.address,140);
                            Cookies.set('sexs',this.sex,140);
                            Cookies.set('edu',this.edu,140);
                            Cookies.set('motto',this.motto,140);
                            Cookies.set('job',this.job,140);
                            var self=this
                        	var formData = new FormData(event.target); // FormData支援把 Form 元素丟進去
                            reqwest({
                                url:'/api/changeInfo/'+id,
                                type:'json',
                                method:'post',
                                data:formData,
                                processData:false,   // 告诉vue不转换数据
                                contentType:false,   // 告诉vue不设置内容格式
                                headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                                success:function (resp) {
                                    self.modal.tiShi=true;
                                    setTimeout(function(){
                                        self.fade='fadeOut'
                                    },2000)
                                    self.timer=setTimeout(function(){
                                        self.modal.tiShi=false;
                                        self.fade=""

                                    },4000)
                                    self.msg=resp.msg;
                                    self.readinfo();

                                },
                                })
                            },

                    // 自动保存信息
                    baoCun:function() {
                        this.job=Cookies.get('job')
                        this.nickname=Cookies.get('nickname')
                        this.address=Cookies.get('address')
                        this.sexs=Cookies.get('sexs')
                        this.edu=Cookies.get('edu')
                        this.motto=Cookies.get('motto')
                    },
                    //自动验证资料是否合法
                    nicknameChange:function(){
                        this.modal.nicknameCheck=false;
                        this.modal.inNicknameCheck=false;
                    },

                    emailChange:function(){
                        this.modal.emailCheck=false;
                        this.modal.inEmailCheck=false;
                    },

                    checkNickname: function(){
                        if(this.nickname!="") {
                            this.nikeEndCheck();
                            if(this.endNickCheckRe==1) {
                                this.modal.nicknameCheck=true;
                            }
                            else {
                                this.modal.inNicknameCheck=true;
                            }

                        }
                    },

                    checkEmai: function() {
                        if(this.email!=""){
                            var re=/\w+@[a-z0-9]+\.[a-z]+/;
                            if(re.test(this.email)) {
                                this.modal.emailCheck=true;
                            }
                            else {
                                this.modal.inEmailCheck=true;
                            }

                            }
                        },

                    nikeEndCheck:function(){
                        var self=this;
                        reqwest({
                          url:'/api/nicknameEndCheck/',
                          type:'json',
                          method:'post',
                          data:{nickname:self.nickname},
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                            self.endNickCheckRe = resp.result;
                          }
                        })
                    },
                    //提交按钮是否可用
                    commenterror:function(){
                        if(this.nickname==""){
                            return "disabled";
                        }
                        else if (this.sex=="") {
                            return "disabled";
                        }
                        // else if (this.phonenumber=="") {
                        //     return "disabled";
                        // }
                        else if (this.avatar=="") {
                            return "disabled";
                        }
                        // else if (this.address=="") {
                        //     return "disabled";
                        // }
                        else if (this.edu=="") {
                            return "disabled";
                        }
                        else if (this.job=="") {
                            return "disabled";
                        }
                        else if (this.motto=="") {
                            return "disabled";
                        }

                        else {
                            return "";
                        }
                    },





/// 资料修改悬浮框
       infoShwich1:function(){
           if(this.timer){
               clearTimeout(this.timer);
           }

           this.fadeIn='zoomIn';
           this.modal.info=true
       },
       infoShwich2:function(){
           var self =this;
           self.timer=setTimeout(function(){
               self.fadeIn='zoomOut';
               setTimeout(function(){
                   self.modal.info=false
               },180)

           },300)

       },




//收藏页分页加载
                    leftcaret_color:function(){
                         if(this.this_page > 1){
                           return "red"
                         }
                         else{
                           return ""
                         }
                       },

                       rightcaret_color:function(){
                         if(this.this_page < this.pages){
                           return "red"
                         }
                         else{
                           return ""
                         }
                       },

                       previous_disabled_status:function(){
                         if(this.this_page > 1){
                           return ""
                         }
                         else{
                           return "disabled"
                         }
                       },

                       next_disabled_status:function(){
                         if(this.this_page < this.pages){
                           return ""
                         }
                         else{
                           return "disabled"
                         }
                       },

                       pagenum_active_status:function(page){
                       if(this.this_page == page){
                         return "active"
                       }
                       else{
                         return ""
                       }
                     },

                     pagenum_color:function(page){
                        if(this.this_page == page){
                          return "background-color: red; color:white"
                        }
                        else{
                          return ""
                        }
                      },


                      update_page:function(page){
                        var self = this;
                        if(page > this.pages){
                          page = this.pages;
                        };
                        if(page < 1){
                          page = 1;
                        }
                        self.this_page = page;
                        reqwest({
                          url:'/api/save_articlelst/?page='+page,
                          type:'json',
                          method:'get',
                          headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                          success:function(resp){
                              console.log(resp)
                            self.video_list = resp.video_list;
                          }
                        })
                      },

                      save_articlelst:function(){
                          var self=this;
                          reqwest({
                              url:'/api/save_articlelst/?page='+self.this_page,
                              type:'json',
                              method:'get',
                              headers:Cookies.get('token')? {'Authorization': 'Token ' + Cookies.get('token')}:{},
                              success:function(resp){
                                  console.log(resp)
                                  self.video_list = resp.video_list;
                                  self.pages = resp.pages;
                              }
                          })
                      },


//跳转到文章详情页
                    vidDetail:function(id){
                        Cookies.set('video_id', id);
                        window.location.href="/detail/";
                    },



//加载个人信息
                    logIn:function () {
                        var self = this;
                        reqwest({
                            url:'/api/token-auth',
                            type:'json',
                            method:'post',
                            data:{
                                username:self.username,
                                password:self.password,
                            },
                            success:function (resp) {
                                console.log(resp);
                                Cookies.set('token',resp.token);
                                self.readinfo();
                                self.modalSwitch_rigeser_login();
                                self.unSignUp();
                                self.modal.lg_show=false;
                                self.modal.lt_show=true;

                            },

                        })
                    },



//用户注册登陆相关函数


//登陆注册用的函数
unSignUp:function() {
    this.modal.login_show=false;
    this.modal.dimmerShow=false;
    this.modal.regi_show=false;
},

signUp:function() {
    this.modal.login_show=true;
    this.modal.dimmerShow=true;
},

                rePswChange:function() {
                      this.modal.right_show=false;
                      this.modal.error_show=false;
                },

                userChange:function(){
                    this.modal.usernameCheck=false;
                    this.modal.inUsernameCheck=false;
                    this.modal.endInUsernameCheck=false;
                },
                passwordChange:function(){
                    this.modal.error_show1=false;
                    this.modal.error_show2=false;
                },

                checkRePassword:function(){
                    if(this.password==this.re_password) {
                        this.modal.right_show=true;
                    }
                    else {
                        this.modal.error_show=true;

                    }
                },

                checkPassword:function(){
                    if (this.password==""||this.password.length<6) {
                        this.modal.error_show1=true;

                    }
                    else {
                        this.modal.error_show2=true;

                    }

                },

                checkUsername: function() {
                    if(this.username!=""){
                        var re=/\d{11}/;
                        if(re.test(this.username)) {
                            this.endCheck();
                            if(this.endCheckRe==1){
                                this.modal.usernameCheck=true;
                            }
                            else {
                                this.modal.endInUsernameCheck=true;

                            }
                        }
                        else {
                            this.modal.inUsernameCheck=true;

                        }
                    }
                },

                endCheck:function(){
                    var self=this;
                    reqwest({
                      url:'/api/endCheck/',
                      type:'json',
                      method:'post',
                      data:{username:self.username},
                      success:function(resp){
                        self.endCheckRe = resp.result;
                      }
                    })
                },

                //     modalSwitch:function () {
                //    this.modal.show = !this.modal.show
                // },

                affRegister: function() {
                     if(this.modal.right_show==true&&this.modal.error_show2==true&&this.modal.usernameCheck==true){
                         this.register();
                     }
                },

                    register:function(){
                        var self = this;
                        reqwest({
                            url:'/api/register/',
                            type:'json',
                            method:'post',
                            data:{
                                username:self.username,
                                password:self.password,
                            },
                            success:function (resp) {
                                self.msg=resp.msg;
                                alert(resp.msg);
                                self.clear();
                                self.modalSwitch_rigeser_login();
                            },
                            // error:function(err){
                            //     alert('username already exist')
                            // }
                    })
                },

                clear:function(){
                    username:this.username="";
                    password:this.password="";
                },



                modalSwitch_lg_lt:function(){
                    this.modal.lt_show=!this.modal.lt_show
                    this.modal.lg_show=!this.modal.lg_show
                },

                modalSwitch_rigeser_login:function () {
                    this.modal.regi_show = !this.modal.regi_show
                    this.modal.login_show = !this.modal.login_show
                },

                    logOut:function() {
                        Cookies.remove('token',this.token);
                        this.modalSwitch_lg_lt();
                        this.userinfo="";
                        this.signUp();
                    },





//个人信息和收藏列表切换器
                    choicecategory:function(cho,id){
                        this.choices = cho;
                        this.current = id;
                        this.infoShow();

                        },
                    activeOrnot:function (id) {
                       if(this.current == id){
                           return 'active';
                       }else{
                           return '';
                       }
                   },


//跳转到写文章页面
                   write:function(){
                       if(Cookies.get('token')){
                           window.location.href="/writeAtc/";
                       }
                       else {
                           this.signUp();
                       }
                   },

                   //跳转到搜索结果页面
                          searchbutton:function(){
                              if(this.searchword!=""){
                                  if(Cookies.get('token')){
                                      var tag=this.searchword;
                                      Cookies.set('searchword', tag);
                                      window.location.href="/searchpage/";
                                  }
                                  else {
                                      this.signUp();
                                  }
                              }
                          },

                },

                computed:{
                    infoShow:function(){
                        if(this.choices=='info'){
                            this.modal.info_sh=true;
                            this.modal.like_sh=false;
                            this.modal.guanZhu_sh=false;
                        }
                        else if (this.choices=='like') {
                            this.modal.like_sh=true;
                            this.modal.info_sh=false;
                            this.modal.guanZhu_sh=false;
                            this.save_articlelst();
                        }
                        else {
                            this.modal.guanZhu_sh=true;
                            this.modal.like_sh=false;
                            this.modal.info_sh=false;
                        }
                    },

                    canScroll:function () {
                        if (this.modal.show) {
                            return 'unscrollable'
                        }
                        else if (this.modal.login_show) {
                            return 'unscrollable'
                        }
                        else {
                            return ''
                        }
                    },

                    // fadeInOut:function () {
                    //         if (this.modal.show) {
                    //             return 'fadeIn'
                    //         }
                    //         else {
                    //             return 'fadeOut'
                    //         }
                    //     },

                //     fadeInOutTiShi:function () {
                //             if (!this.modal.tiShi) {
                //                 return 'fadeIn'
                //             }
                //             else {
                //                 return 'fadeOut'
                //             }
                //         },
                },

                ready:function () {
                    this.baoCun();
                    if(Cookies.get('token')){
                        this.readinfo();
                } 

                    this.modalSwitch_lg_lt();
                    this.myGuanZhu();
                },

                    })

            </script>
        </body>
    {% endverbatim %}
</html>
